@using Models
@model LeadViewModel
<input type="hidden" id="ContactPersonCount" value="@Model?.ContactPersonList?.Count" />
<div class="card">
    <h5 class="card-header">
        <span style="background-color: var(--bs-card-cap-bg);">@Localizer["Contact Person"]</span>
        <a id="btnAddContactPerson" class="btn btnMaterial btn-flat primary semicircle cancel" title="@Localizer["Add"]"><i class="fas fa-plus" style="font-size:18px;"></i></a>
        <button class="cancel" type="button" id="btnRemoveContactPerson" value="RemoveContactPerson" style="display:none;"></button>
    </h5>
    <div class="card-body" style="overflow:auto;">
        <table id="subDetailList" class="table table-hover table-bordered table-striped responsive nowrap" width="100%">
            <thead>
                <tr>
                    <th style="display:none;"></th>
                    <th>
                        @Localizer["Salutation"]
                    </th>
                    <th style="min-width:150px;">
                        @Localizer["First Name"]
                    </th>
                    <th style="min-width:150px;">
                        @Localizer["Middle Name"]
                    </th>
                    <th style="min-width:150px;">
                        @Localizer["Last Name"]
                    </th>
                    <th style="min-width:150px;">
                        @Localizer["Position"]
                    </th>
                    <th>
                        @Localizer["Is SOA Recipient"]
                    </th>
                    <th>
                        @Localizer["Is AN Signatory"]
                    </th>
                    <th>
                        @Localizer["Is COL Signatory"]
                    </th>

                    <th>
                        @Localizer["Action"]
                    </th>
                </tr>
            </thead>
            <tbody>
                @if (Model?.ContactPersonList != null)
                {
                    int counter = 0;
                    foreach (var item in Model.ContactPersonList)
                    {
                        <tr>
                            <td style="display:none;">
                                <input type="hidden" name="ContactPersonList[@counter].Id" value="@item.Id" />
                                <input type="hidden" name="ContactPersonList[@counter].LeadId" value="@item.LeadId" />
                            </td>
                            <td>
                                <select asp-for="@item.SalutationID" id="ContactPersonList_@(counter)_SalutationID" name="ContactPersonList[@counter].SalutationID" class="form-control SelectSalutation" asp-items="@(dropdownService.GetSalutationList(item.SalutationID))">
                                    <option value="">- Select Salutation -</option>
                                </select>
                                <span data-valmsg-for="ContactPersonList[@counter].SalutationID" asp-validation-for="@item.SalutationID" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.FirstName" name="ContactPersonList[@counter].FirstName" class="form-control" maxlength="35" />
                                <span data-valmsg-for="ContactPersonList[@counter].FirstName" asp-validation-for="@item.FirstName" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.MiddleName" name="ContactPersonList[@counter].MiddleName" class="form-control" maxlength="30" />
                                <span data-valmsg-for="ContactPersonList[@counter].MiddleName" asp-validation-for="@item.MiddleName" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.LastName" name="ContactPersonList[@counter].LastName" class="form-control" maxlength="70" />
                                <span data-valmsg-for="ContactPersonList[@counter].LastName" asp-validation-for="@item.LastName" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.Position" name="ContactPersonList[@counter].Position" class="form-control" maxlength="120" />
                                <span data-valmsg-for="ContactPersonList[@counter].Position" asp-validation-for="@item.Position" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.IsSOARecipient" name="ContactPersonList[@counter].IsSOARecipient" class="custom-checkbox-label" />
                                <span data-valmsg-for="ContactPersonList[@counter].IsSOARecipient" asp-validation-for="@item.IsSOARecipient" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.IsANSignatory" name="ContactPersonList[@counter].IsANSignatory" class="custom-checkbox-label" />
                                <span data-valmsg-for="ContactPersonList[@counter].IsANSignatory" asp-validation-for="@item.IsANSignatory" class="text-danger"></span>

                            </td>
                            <td>
                                <input asp-for="@item.IsCOLSignatory" name="ContactPersonList[@counter].IsCOLSignatory" class="custom-checkbox-label" />
                                <span data-valmsg-for="ContactPersonList[@counter].IsCOLSignatory" asp-validation-for="@item.IsCOLSignatory" class="text-danger"></span>

                            </td>

                            <td>
                                <a class="btn btnMaterial btn-flat accent semicircle cancel RemoveContactPersonButton" title="@Localizer["Remove ContactPerson"]" removeId="@(item.Id)"><i class="fas fa-trash" style="font-size:18px;"></i></a>
                            </td>
                        </tr>
                        counter++;
                    }
                }
            </tbody>
        </table>
    </div>
</div>
